"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[593],{1470:function(t,e,n){n.r(e),n.d(e,{default:function(){return g}});var r=n(4270),c=n(3957),i=n(4942);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){(0,i.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var a=n(3433),l=n(9439),u=n(2791),m=n(1087),f=n(8875),d=n(5660),p=n(4304),j=n(9613),b=n(8446),h=n(184),y=function(){var t=(0,u.useState)([]),e=(0,l.Z)(t,2),n=e[0],r=e[1],c=(0,u.useState)(!0),i=(0,l.Z)(c,2),o=i[0],y=i[1],g=(0,u.useState)(!1),v=(0,l.Z)(g,2),x=v[0],O=v[1],Z=(0,u.useState)(200),_=(0,l.Z)(Z,2),w=_[0],P=_[1],D=(0,u.useState)(!1),E=(0,l.Z)(D,2),N=E[0],S=E[1],k=(0,u.useState)(!1),C=(0,l.Z)(k,2),Y=C[0],H=C[1],L=(0,p.Z)(),q=L.loading,A=L.error,F=L.getAllComics;(0,u.useEffect)((function(){return M(w,!0),window.addEventListener("scroll",I),function(){return window.removeEventListener("scroll",I)}}),[]),(0,u.useEffect)((function(){x&&M()}),[x]);var I=function(){window.scrollY+document.documentElement.clientHeight>=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight)-5&&O((function(t){return!0}))},M=function(t){y(!t),F(w).then(U)},U=function(t){var e=!1;t.length<8&&(e=!0),O(!1),y((function(t){return!1})),H((function(t){return!0})),r((function(e){return[].concat((0,a.Z)(e),(0,a.Z)(t))})),P((function(t){return t+8})),S((function(t){return e}))};var z=function(t){var e=0,n=t.map((function(n,r){r>=t.length-8&&(e+=100);var c={transition:"all ".concat(400,"ms ease-in-out"),opacity:0,transform:"translateY(-30%)",transitionDelay:"".concat(e,"ms")},i={entering:{opacity:0,transform:"translateY(-30%)",transitionDelay:"".concat(e,"ms")},entered:{opacity:1,transform:"translateY(0)",transitionDelay:"".concat(e,"ms")},exiting:{opacity:1,transform:"translateY(0)",transitionDelay:"".concat(e,"ms")},exited:{opacity:0,transform:"translateY(30%)",transitionDelay:"".concat(e,"ms")}};return(0,h.jsx)(f.ZP,{timeout:400,in:Y,children:function(t){return(0,h.jsx)("li",{className:"comics__item",tabIndex:0,style:s(s({},c),i[t]),children:(0,h.jsxs)(m.rU,{to:"/comics/".concat(n.id),children:[(0,h.jsx)("img",{src:n.thumbnail,alt:n.title,className:"comics__item-img"}),(0,h.jsx)("div",{className:"comics__item-name",children:n.title}),(0,h.jsx)("div",{className:"comics__item-price",children:n.price})]})},r)}},r)}));return(0,h.jsx)("ul",{className:"comics__grid",children:(0,h.jsx)(d.Z,{component:null,children:n})})}(n),B=A?(0,h.jsx)(j.Z,{}):null,G=q&&n.length<8?(0,h.jsx)(b.Z,{}):null;return(0,h.jsxs)("div",{className:"comics__list",children:[B,G,z,(0,h.jsx)("button",{className:"button button__main button__long",disabled:o,style:{display:N?"none":"block"},onClick:function(){return M()},children:(0,h.jsx)("div",{className:"inner",children:"load more"})})]})},g=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(r.q,{children:[(0,h.jsx)("meta",{name:"description",content:"Comics page"}),(0,h.jsx)("title",{children:"Comics page"})]}),(0,h.jsx)(c.Z,{}),(0,h.jsx)(y,{})]})}},4942:function(t,e,n){n.d(e,{Z:function(){return c}});var r=n(9142);function c(t,e,n){return(e=(0,r.Z)(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}}}]);
//# sourceMappingURL=593.8d2558f1.chunk.js.map