{"version":3,"file":"static/js/593.8d2558f1.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/comicsList/ComicsList.js","components/pages/ComicsPage.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js"],"sourcesContent":["import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}","import './comicsList.scss';\n\nimport { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Transition, TransitionGroup } from 'react-transition-group';\nimport useMarvelService from '../../services/MarvelService';\nimport ErrorMessage from '../errorMessage/ErrorMessage';\nimport SpinnerMy from '../spinner/SpinnerMy';\n\n\nconst ComicsList = () => {\n    const [comicsList, setComicsList] = useState([]);\n    const [newItemLoading, setNewItemLoading] = useState(true);\n    const [loadOnScroll, setLoadOnScroll] = useState(false);\n    const [offset, setOffset] = useState(200);\n    const [comicsEnded, setComicsEnded] = useState(false);\n    const [animStart, setAnimStart] = useState(false);\n\n    const {loading, error, getAllComics} = useMarvelService();\n\n\n    useEffect(() => {\n        onRequest(offset, true)\n        window.addEventListener('scroll', onRequestScroll);\n        return () => window.removeEventListener('scroll', onRequestScroll);\n        // eslint-disable-next-line\n    }, [])\n\n\n    useEffect(() => {\n        if (loadOnScroll) {\n            onRequest();\n        }\n        // eslint-disable-next-line\n    }, [loadOnScroll])\n\n    const onRequestScroll = () => {\n        const scrollTop = window.scrollY;\n        const screen = document.documentElement.clientHeight;\n        const height = Math.max(document.documentElement.scrollHeight, document.body.scrollHeight) - 5;\n        if (scrollTop + screen >= height) {\n            setLoadOnScroll(newItemLoading => true);\n        }\n    }\n\n    const onRequest = (initial) => {\n        initial ? setNewItemLoading(false) : setNewItemLoading(true);\n        getAllComics(offset)\n            .then(onAllComicsLoaded)\n    }\n\n    const onAllComicsLoaded = (newComicsList) => {\n        let ended = false;\n        if (newComicsList.length < 8) {\n            ended = true;\n        }\n        setLoadOnScroll(false);\n        setNewItemLoading(newItemLoading => false);\n        setAnimStart(animStart => true);\n        setComicsList((comicsList) => [...comicsList, ...newComicsList]);\n        setOffset((offset) => offset + 8);\n        setComicsEnded(comicsEnded => ended);\n    }\n\n\n    function renderComicsItems(arrItems) {\n        let delay = 0;\n        const items = arrItems.map((item, i) => {\n            const duration = 400;\n            if (i >= arrItems.length - 8) {\n                delay += 100;\n            }\n\n            const defaultStyle = {\n                transition: `all ${duration}ms ease-in-out`,\n                opacity: 0,\n                transform: 'translateY(-30%)',\n                transitionDelay: `${delay}ms`\n            };\n\n            const transitionStyles = {\n                entering: { opacity: 0, transform: 'translateY(-30%)', transitionDelay: `${delay}ms` },\n                entered: { opacity: 1, transform: 'translateY(0)', transitionDelay: `${delay}ms` },\n                exiting: { opacity: 1, transform: 'translateY(0)', transitionDelay: `${delay}ms` },\n                exited: { opacity: 0, transform: 'translateY(30%)', transitionDelay: `${delay}ms` },\n            }; \n\n            \n            return (\n                <Transition timeout={duration} key={i} in={animStart}>\n                    {state => (\n                        <li className=\"comics__item\" key={i} tabIndex={0} \n                        style={{\n                            ...defaultStyle,\n                            ...transitionStyles[state]\n                            }}>\n                            <Link to={`/comics/${item.id}`}>\n                                <img src={item.thumbnail} alt={item.title} className=\"comics__item-img\"/>\n                                <div className=\"comics__item-name\">{item.title}</div>\n                                <div className=\"comics__item-price\">{item.price}</div>\n                            </Link>\n                        </li>\n                    )}\n                </Transition>\n            )\n        });\n        \n\n        return (\n            <ul className=\"comics__grid\">\n                <TransitionGroup component={null}>\n                    {items}\n                </TransitionGroup>\n            </ul>\n        )\n    }\n\n    const items = renderComicsItems(comicsList);\n    const errorMessage = error ? <ErrorMessage/> : null;\n    const spinner = loading && (comicsList.length < 8) ? <SpinnerMy/> : null;\n\n    return (\n        <div className=\"comics__list\">\n            {errorMessage}\n            {spinner}\n            {items}\n            <button \n                className=\"button button__main button__long\"\n                disabled={newItemLoading}\n                style={{'display' : comicsEnded ? 'none' : 'block'}}\n                onClick={() => onRequest()}>\n                <div className=\"inner\">load more</div>\n            </button>\n        </div>\n    )\n}\n\nexport default ComicsList;","import { Helmet } from \"react-helmet\";\n\nimport AppBanner from \"../appBanner/AppBanner\";\nimport ComicsList from \"../comicsList/ComicsList\";\n\nconst ComicsPage = () => {\n    return (\n        <>  \n            <Helmet>\n                <meta\n                    name=\"description\"\n                    content=\"Comics page\"\n                    />\n                <title>Comics page</title>\n            </Helmet>\n            <AppBanner/>\n            <ComicsList/>\n        </>\n    )\n\n}\n\nexport default ComicsPage;","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","defineProperty","getOwnPropertyDescriptors","defineProperties","_useState","useState","_useState2","_slicedToArray","comicsList","setComicsList","_useState3","_useState4","newItemLoading","setNewItemLoading","_useState5","_useState6","loadOnScroll","setLoadOnScroll","_useState7","_useState8","offset","setOffset","_useState9","_useState10","comicsEnded","setComicsEnded","_useState11","_useState12","animStart","setAnimStart","_useMarvelService","useMarvelService","loading","error","getAllComics","useEffect","onRequest","window","addEventListener","onRequestScroll","removeEventListener","scrollY","document","documentElement","clientHeight","Math","max","scrollHeight","body","initial","then","onAllComicsLoaded","newComicsList","ended","concat","_toConsumableArray","items","arrItems","delay","map","item","defaultStyle","transition","opacity","transform","transitionDelay","transitionStyles","entering","entered","exiting","exited","_jsx","Transition","timeout","in","children","state","className","tabIndex","style","_objectSpread","_jsxs","Link","to","id","src","thumbnail","alt","title","price","TransitionGroup","component","renderComicsItems","errorMessage","ErrorMessage","spinner","SpinnerMy","disabled","onClick","_Fragment","Helmet","name","content","AppBanner","ComicsList","_defineProperty","obj","value","configurable","writable"],"sourceRoot":""}